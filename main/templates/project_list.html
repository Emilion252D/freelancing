{% extends 'base.html' %}
{% block title %}–°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤{% endblock %}

{% block content %}
<h1 class="mb-4">–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã</h1>

<!-- üîç –§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ -->
<form method="get" class="row g-3 mb-4">
    <div class="col-md-4">
        <input type="text" name="q" class="form-control" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é"
               value="{{ search_query }}">
    </div>
    <div class="col-md-2">
        <input type="number" step="0.01" name="min_budget" class="form-control"
               placeholder="–ú–∏–Ω. –±—é–¥–∂–µ—Ç" value="{{ min_budget }}">
    </div>
    <div class="col-md-2">
        <input type="number" step="0.01" name="max_budget" class="form-control"
               placeholder="–ú–∞–∫—Å. –±—é–¥–∂–µ—Ç" value="{{ max_budget }}">
    </div>
    <div class="col-md-2">
        <button type="submit" class="btn btn-primary w-100">–ù–∞–π—Ç–∏</button>
    </div>
    <div class="col-md-2">
        <a href="{% url 'project_list' %}" class="btn btn-secondary w-100">–°–±—Ä–æ—Å</a>
    </div>
</form>

<!-- üßæ –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ -->
<div class="row">
    {% for project in projects %}
        <div class="col-md-6">
            <div class="card mb-4 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">
                        <a href="{% url 'project_detail' project.pk %}">{{ project.title }}</a>
                    </h5>
                    <p class="card-text">{{ project.description|truncatewords:20 }}</p>
                    <p class="text-muted">–ë—é–¥–∂–µ—Ç: {{ project.budget }} ‚Ç∏</p>
                    <p class="text-muted">–î–µ–¥–ª–∞–π–Ω: {{ project.deadline }}</p>
                </div>
            </div>
        </div>
    {% empty %}
        <p>–ü–æ–∫–∞ –Ω–µ—Ç –ø—Ä–æ–µ–∫—Ç–æ–≤.</p>
    {% endfor %}
</div>

<a class="btn btn-primary" href="{% url 'create_project' %}">+ –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</a>
{% endblock %}

